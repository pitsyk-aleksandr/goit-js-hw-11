{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["// У файлі render-functions.js створи екземпляр SimpleLightbox для роботи з модальним вікном та зберігай функції для відображення елементів інтерфейсу:\n\n// Підключення бібліотеки SimpleLightbox :\n// Описаний у документації\nimport SimpleLightbox from 'simplelightbox';\n// Додатковий імпорт стилів\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\n// ==================================================================\n// Створюємо нову галерею за допомогою бібліотеки SimpleLightbox\n// ------------------------------------------------------------------\nexport let gallery = new SimpleLightbox('.gallery a', {\n  captions: true,\n  captionSelector: 'img',\n  captionsData: 'alt',\n  captionPosition: 'bottom',\n  captionDelay: 250,\n  overlayOpacity: 0.6,\n  widthRatio: 0.85,\n  disableRightClick: true,\n});\n// ==================================================================\n\n// ==================================================================\n// createGallery(images).\n// Ця функція повинна приймати масив images, створювати HTML-розмітку для галереї, додавати її в контейнер галереї та викликати метод екземпляра SimpleLightbox refresh().\n// Нічого не повертає.\n// ------------------------------------------------------------------\n// Елемент галереї (список однотипних елементів <ul class=”gallery”>) уже має бути в HTML-документі.\n// Після виконання HTTP-запитів у нього потрібно додавати розмітку карток зображень.\n\n// Кожне зображення описується об'єктом, з якого тебе цікавлять лише такі властивості:\n\n// webformatURL — посилання на маленьке зображення для списку карток у галереї\n// largeImageURL — посилання на велике зображення для модального вікна\n// tags — рядок з описом зображення. Підійде для атрибута alt\n// likes — кількість вподобайок\n// views — кількість переглядів\n// comments — кількість коментарів\n// downloads — кількість завантажень\n// ------------------------------------------------------------------\nexport function createGallery(images) {\n  const markup = images\n    .map(image => {\n      return `\n        <li class=\"gallery-item\">\n          <a href=\"${image.largeImageURL}\" class=\"gallery-link\">\n            <img\n              src=\"${image.webformatURL}\"\n              alt=\"${image.tags}\"\n              class=\"gallery-image\"\n            />\n            <div class=\"image-info\">\n              <div class=\"info\">\n                <p class=\"info-label\">Likes</p>\n                <p class=\"info-count\">${image.likes}</p>\n              </div>\n              <div class=\"info\">\n                <p class=\"info-label\">Views</p>\n                <p class=\"info-count\">${image.views}</p>\n              </div>\n              <div class=\"info\">\n                <p class=\"info-label\">Comments</p>\n                <p class=\"info-count\">${image.comments}</p>\n              </div>\n              <div class=\"info\">\n                <p class=\"info-label\">Downloads</p>\n                <p class=\"info-count\">${image.downloads}</p>\n              </div>\n            </div>\n          </a>\n        </li>`;\n    })\n    .join('');\n\n  // Посилання на весь список галереї\n  const galleryEl = document.querySelector('.gallery');\n\n  // Додаємо картинки в список в DOM\n  galleryEl.insertAdjacentHTML('beforeend', markup);\n}\n// ==================================================================\n\n// ==================================================================\n// clearGallery().\n// Ця функція нічого не приймає та повинна очищати вміст контейнера галереї.\n// Нічого не повертає.\n// ------------------------------------------------------------------\nexport function clearGallery() {\n  // Посилання на весь список галереї\n  const galleryEl = document.querySelector('.gallery');\n  // Очистка вмісту списку галереї\n  galleryEl.innerHTML = '';\n}\n// ==================================================================\n\n// ==================================================================\n// showLoader().\n// Ця функція нічого не приймає, повинна додавати клас для відображення лоадера.\n// Нічого не повертає.\n// ------------------------------------------------------------------\nexport function showLoader() {\n  // Посилання на лоадер (точніше на обгортку лоадера)\n  const loaderEl = document.querySelector('.loader-thumb');\n  // Додаємо класс видимості лоадера\n  loaderEl.classList.add('visible');\n}\n// ==================================================================\n\n// ==================================================================\n// hideLoader().\n// Ця функція нічого не приймає, повинна прибирати клас для відображення лоадера.\n// Нічого не повертає.\n// ------------------------------------------------------------------\nexport function hideLoader() {\n  // Посилання на лоадер (точніше на обгортку лоадера)\n  const loaderEl = document.querySelector('.loader-thumb');\n  // Прибираємо класс видимості лоадера\n  loaderEl.classList.remove('visible');\n}\n// ==================================================================\n","// У файлі pixabay-api.js зберігай функції для виконання HTTP-запитів:\n\nimport axios from 'axios';\n\n// ==================================================================\n// getImagesByQuery(query).\n// функція приймає один параметр query(пошукове слово, яке є рядком),\n// здійснювати HTTP - запит\n// і повертати значення властивості data з отриманої відповіді.\n// ==================================================================\n\nexport default function getImagesByQuery(query) {\n  // Параметри запиту\n  // Унікальний ключ доступу до API\n  const keyApi = '53949044-97be2f3ebdad7466ae66aa0c3';\n  const paramsQuery = {\n    params: {\n      key: keyApi,\n      q: query,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: true,\n      page: 1,\n      per_page: 9,\n    },\n  };\n  // Робимо запит GET в API\n  return axios\n    .get('https://pixabay.com/api/', paramsQuery)\n    .then(response => {\n      // Повертаємо значення властивості data з отриманої відповіді\n      return response.data;\n    })\n    .catch(error => {\n      console.log(error);\n    });\n}\n","// У файлі main.js напиши всю логіку роботи додатка.\n// Виклики нотифікацій iziToast, усі перевірки на довжину масиву в отриманій відповіді робимо саме в цьому файлі.\n// Імпортуй в нього функції із файлів pixabay-api.js та render-functions.js та викликай їх у відповідний момент.\n\n// Підключення бібліотеки iziToast :\n// Імпорт, описаний в документації\nimport iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\n\n// Об'єкт посилань сторінки :\nconst refs = {\n  form: document.querySelector('.form'),\n  btnSearch: document.querySelector('.btn-search'),\n  inputSearch: document.querySelector('.input-search'),\n  listImages: document.querySelector('.gallery'),\n};\n\n// Іменований імпорт значення та функцій\nimport {\n  gallery,\n  createGallery,\n  clearGallery,\n  showLoader,\n  hideLoader,\n} from './js/render-functions';\n\n// Дефолтний імпорт функції\nimport getImagesByQuery from './js/pixabay-api';\n\n// Слухач події submit форми\nrefs.form.addEventListener('submit', onFormSubmit);\n\n// Обробник події submit форми\nfunction onFormSubmit(event) {\n  // Обнулення події за замовчуванням\n  event.preventDefault();\n\n  // Значення поля для пошуку (+ прибираємо пробіли)\n  const textSearch = refs.inputSearch.value.trim();\n  // Та оновлюємо значення поля для пошуку (без пробілів)\n  refs.inputSearch.value = textSearch;\n\n  // Якщо поле для вводу пусте або були тільки пробіли\n  if (textSearch === '') {\n    // Опції вікна сповіщення\n    const iziToastSetting = {\n      timeout: 3000,\n      closeOnEscape: true,\n      position: 'topRight',\n      backgroundColor: '#EF4040',\n      progressBarColor: '#B51B1B',\n      iconUrl: './img/error.svg',\n      title: 'ERROR ',\n      titleColor: '#ffffff',\n      titleSize: '16',\n      message: 'Enter the image type',\n      messageColor: '#ffffff',\n      messageSize: '16',\n    };\n    // Показуємо вікно сповіщення - з помилкою\n    iziToast.show(iziToastSetting);\n    // Вихід\n    return;\n  }\n\n  // Очистка всієї галереї в DOM\n  clearGallery();\n\n  // Показуємо лоадер\n  showLoader();\n\n  // Виклик функції запиту та обробка отриманих даних\n  getImagesByQuery(textSearch)\n    .then(data => {\n      // Повернення з даних властивості hits - масиву з картинками\n      return data.hits;\n    })\n    .then(images => {\n      // Прибираємо лоадер\n      hideLoader();\n\n      // Якщо запит не дав результатів (масив з відповідями пустий)\n      if (images.length === 0) {\n        // Опції вікна сповіщення\n        const iziToastSetting = {\n          timeout: 3000,\n          closeOnEscape: true,\n          position: 'topRight',\n          backgroundColor: '#EF4040',\n          progressBarColor: '#B51B1B',\n          iconUrl: './img/error.svg',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          messageColor: '#ffffff',\n          messageSize: '16',\n          messageLineHeight: '24',\n          maxWidth: '432',\n        };\n        // Показуємо вікно сповіщення - з помилкою\n        iziToast.show(iziToastSetting);\n        // Вихід з пошуку\n        return;\n      }\n\n      // Якщо запит дав результати :\n\n      // Створюємо галерею в DOM\n      createGallery(images);\n\n      // Оновлюємо галерею SimpleLightbox\n      gallery.refresh();\n    });\n\n  // Перезавантаження форми та ощищення значень полів форми\n  refs.form.reset();\n}\n"],"names":["gallery","SimpleLightbox","createGallery","images","markup","image","clearGallery","galleryEl","showLoader","hideLoader","getImagesByQuery","query","paramsQuery","axios","response","error","refs","onFormSubmit","event","textSearch","iziToastSetting","iziToast","data"],"mappings":"owBAWO,IAAIA,EAAU,IAAIC,EAAe,aAAc,CACpD,SAAU,GACV,gBAAiB,MACjB,aAAc,MACd,gBAAiB,SACjB,aAAc,IACd,eAAgB,GAChB,WAAY,IACZ,kBAAmB,EACrB,CAAC,EAqBM,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAASD,EACZ,IAAIE,GACI;AAAA;AAAA,qBAEQA,EAAM,aAAa;AAAA;AAAA,qBAEnBA,EAAM,YAAY;AAAA,qBAClBA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wCAMSA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,wCAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,wCAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,wCAIdA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,cAKlD,EACA,KAAK,EAAE,EAGQ,SAAS,cAAc,UAAU,EAGzC,mBAAmB,YAAaD,CAAM,CAClD,CAQO,SAASE,GAAe,CAE7B,MAAMC,EAAY,SAAS,cAAc,UAAU,EAEnDA,EAAU,UAAY,EACxB,CAQO,SAASC,GAAa,CAEV,SAAS,cAAc,eAAe,EAE9C,UAAU,IAAI,SAAS,CAClC,CAQO,SAASC,GAAa,CAEV,SAAS,cAAc,eAAe,EAE9C,UAAU,OAAO,SAAS,CACrC,CC5Ge,SAASC,EAAiBC,EAAO,CAI9C,MAAMC,EAAc,CAClB,OAAQ,CACN,IAHW,qCAIX,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,KAAM,EACN,SAAU,CACX,CACL,EAEE,OAAOE,EACJ,IAAI,2BAA4BD,CAAW,EAC3C,KAAKE,GAEGA,EAAS,IACjB,EACA,MAAMC,GAAS,CACd,QAAQ,IAAIA,CAAK,CACvB,CAAK,CACL,CCzBA,MAAMC,EAAO,CACX,KAAM,SAAS,cAAc,OAAO,EACpC,UAAW,SAAS,cAAc,aAAa,EAC/C,YAAa,SAAS,cAAc,eAAe,EACnD,WAAY,SAAS,cAAc,UAAU,CAC/C,EAeAA,EAAK,KAAK,iBAAiB,SAAUC,CAAY,EAGjD,SAASA,EAAaC,EAAO,CAE3BA,EAAM,eAAc,EAGpB,MAAMC,EAAaH,EAAK,YAAY,MAAM,KAAI,EAK9C,GAHAA,EAAK,YAAY,MAAQG,EAGrBA,IAAe,GAAI,CAErB,MAAMC,EAAkB,CACtB,QAAS,IACT,cAAe,GACf,SAAU,WACV,gBAAiB,UACjB,iBAAkB,UAClB,QAAS,kBACT,MAAO,SACP,WAAY,UACZ,UAAW,KACX,QAAS,uBACT,aAAc,UACd,YAAa,IACnB,EAEIC,EAAS,KAAKD,CAAe,EAE7B,MACD,CAGDd,IAGAE,IAGAE,EAAiBS,CAAU,EACxB,KAAKG,GAEGA,EAAK,IACb,EACA,KAAKnB,GAAU,CAKd,GAHAM,IAGIN,EAAO,SAAW,EAAG,CAEvB,MAAMiB,EAAkB,CACtB,QAAS,IACT,cAAe,GACf,SAAU,WACV,gBAAiB,UACjB,iBAAkB,UAClB,QAAS,kBACT,QACE,2EACF,aAAc,UACd,YAAa,KACb,kBAAmB,KACnB,SAAU,KACpB,EAEQC,EAAS,KAAKD,CAAe,EAE7B,MACD,CAKDlB,EAAcC,CAAM,EAGpBH,EAAQ,QAAO,CACrB,CAAK,EAGHgB,EAAK,KAAK,OACZ"}